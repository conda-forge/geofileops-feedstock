{% set name = "geofileops" %}
{% set version = "0.8.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: af5cd28716c188e302fe71bfd11b06528bc0e59481de527c915bb9a51195ae62

build:
  number: 0
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - pip
    - python >=3.9
  run:
    - python >=3.9
    - cloudpickle
    - fiona
    - gdal >=3.6.3,<3.9
    - geopandas-base >=0.12,<1
    - libspatialite >=5.0
    - numpy
    - packaging
    - pandas
    - psutil
    - pygeoops >=0.4,<0.5
    - pyogrio >=0.5
    - pyproj
    - shapely >=2,<2.1
    - topojson
    
test:
  imports:
    - geofileops
    - geofileops.util
  requires:
    - pytest
  source_files:
    - tests
  commands:
    - pytest tests
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/geofileops/geofileops
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: Package to do spatial operations on large geo files.
  description: |
    GeofileOps is a library to make spatial operations on large geo files fast  
    and easy. Accomplishes this by using spatialite, geopandas and gdal under  
    the hood to perform geospatial operations on files by using all available 
    CPU cores.
  doc_url: https://geofileops.readthedocs.io/
  dev_url: https://github.com/geofileops/geofileops/

extra:
  recipe-maintainers:
    - theroggy
